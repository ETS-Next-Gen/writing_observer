/* eslint-disable no-magic-numbers */
/**
 * Example data for the problem display
 */

const zones = ['zad', 'zpd', 'znd', 'none'];

/**
 * Randomly assign between lowerBound and upperBound students to each zone.
 */
function assignRandomZones(list, lowerBound, upperBound) {
  var dict = {};
  for (var i = 0; i < list.length; i++) {
    var randNum = Math.floor(Math.random() * (upperBound - lowerBound + 1)) + lowerBound;
    dict[list[i]] = randNum;
  }
  return dict;
}

/**
 * An example list of problems, from ChatGPT
 */
const SAMPLE_PROBLEMS = [
  {
    title: 'Bouncing Ball',
    description:
    'Determine the maximum height, time to reach maximum height, and total time a ball is in the air when thrown straight up with a given velocity.',
    id: 'ms-bouncing-ball',
    relatedScaffolds: ['scaffold-graphs', 'scaffold-parabolas'],
    zones: assignRandomZones(zones, 0, 10),
  },
  {
    title: 'Pizza Party',
    description:
    'Calculate the number of pizzas needed and the cost of a pizza party based on the number of guests and their average pizza consumption.',
    id: 'ms-pizza-party',
    relatedScaffolds: ['scaffold-rates', 'scaffold-percentages'],
    zones: assignRandomZones(zones, 0, 10),
  },
  {
    title: 'Scaling Shapes',
    description:
    'Determine the scale factor, new dimensions, and area of a shape after it is scaled by a given factor.',
    id: 'ms-scaling-shapes',
    relatedScaffolds: [
      'scaffold-equations',
      'scaffold-graphs',
      'scaffold-units',
    ],
    zones: assignRandomZones(zones, 0, 10),
  },
  {
    title: 'Sports Stats',
    description:
    'Compute and compare statistics such as batting average, on-base percentage, and slugging percentage for different baseball players or teams.',
    id: 'ms-sports-stats',
    relatedScaffolds: ['scaffold-rates', 'scaffold-graphs'],
    zones: assignRandomZones(zones, 0, 10),
  },
];

/**
 * An example list of scaffolds, from ChatGPT
 */
const SAMPLE_SCAFFOLDS = [
  {
    id: 'scaffold-rates',
    title: 'Rates',
    description:
    'A worked example that shows how to calculate rate of change and apply it to real-world problems.',
  },
  {
    id: 'scaffold-parabolas',
    title: 'Parabolas',
    description:
    'A formula sheet that explains the properties and graphs of parabolas, and how to find the equation of a parabola from given information.',
  },
  {
    id: 'scaffold-equations',
    title: 'Equations',
    description:
    'A list of formulas and tips for solving equations, including linear equations, quadratic equations, and systems of equations.',
  },
  {
    id: 'scaffold-units',
    title: 'Units',
    description:
    'A reference sheet that shows common units of measurement for length, weight, time, and temperature, and how to convert between them.',
  },
  {
    id: 'scaffold-graphs',
    title: 'Graphs',
    description:
    'A set of sample graphs that illustrate various types of relationships, including linear, quadratic, and exponential.',
  },
  {
    id: 'scaffold-percentages',
    title: 'Percentages',
    description:
    'A step-by-step guide to calculating percentages, including tips for solving percentage word problems.',
  },
];

/**
 * generateInitials generates a two-letter string that represents a person's
 * initials. The function randomly generates two uppercase letters from the
 * alphabet and concatenates them into a string.
 *
 * @returns {string} A two-letter string representing a person's initials.
 */
function generateInitials() {
  const first = String.fromCharCode(65 + Math.floor(Math.random() * 26));
  const last = String.fromCharCode(65 + Math.floor(Math.random() * 26));
  return first + last;
}

function generateSampleStudents(n, problems, scaffolds, p) {
  const students = [];
  
  for (let i = 0; i < n; i++) {
    const initials = generateInitials();
    const problem = problems[Math.floor(Math.random() * problems.length)].id;
    const scaffold =
          Math.random() < p
          ? scaffolds[Math.floor(Math.random() * scaffolds.length)].id
          : null;
    const id = 'student-' + i;
    students.push({ initials: initials, problem: problem, scaffold: scaffold, id: id });
  }
  
  return students;
}

/**
 * An example list of students, autogenerated with JS
 */
const SAMPLE_STUDENTS = generateSampleStudents(
  10,
  SAMPLE_PROBLEMS,
  SAMPLE_SCAFFOLDS,
  0.5
);

const testData = {
  students: SAMPLE_STUDENTS,
  problems: SAMPLE_PROBLEMS,
  scaffolds: SAMPLE_SCAFFOLDS
};

export default testData;
